###############################################################################
# DexSwipe Backend (Remote Supabase) - Environment Variables
#
# 사용법:
# 1) 이 파일을 .env 로 복사
#    cp .env.example .env
# 2) 값 채우고, 실행 환경에 주입
#    set -a; source .env; set +a
#
# 주의:
# - SUPABASE_SERVICE_ROLE_KEY 는 "서버 전용" 비밀키입니다. 클라이언트/프론트에 절대 노출 금지.
###############################################################################

############################
# Supabase 프로젝트 기본값
############################
# Supabase Dashboard > Project Settings > API > Project URL
SUPABASE_URL=

# Supabase Dashboard > Project Settings > API > Project API keys > anon public
SUPABASE_ANON_KEY=

# Supabase Dashboard > Project Settings > API > Project API keys > service_role secret
# (RLS를 우회할 수 있는 강력한 권한)
SUPABASE_SERVICE_ROLE_KEY=

############################
# (권장) Supabase CLI 원격 db push용 비밀번호
############################
# Supabase 프로젝트 생성 시 설정한 DB 비밀번호(=postgres 사용자 비밀번호)
# - `scripts/push_remote_migrations.sh`에서 사용합니다.
SUPABASE_DB_PASSWORD=

############################
# (권장) 크론/스케줄 호출 보호용 시크릿
############################
# Edge Function(scheduled-fetch / fetch-dexscreener-market / GoPlus workers)이
# 이 값과 동일한 x-cron-secret 헤더만 허용하도록 설정됩니다.
DEXSWIPE_CRON_SECRET=

############################
# GoPlus Security API
############################
# 플랜 티어 스위치 (Dynamic Limit Switch)
# - FREE: 월 150,000 CU 생존 모드 (HTTP API에서는 GoPlus 라이브 호출 금지, 워커만 CU 예산으로 제어)
# - PRO : 월 6,000,000 CU 모드 (라이브 병렬 호출 허용, 필터 완화)
GOPLUS_PLAN_TIER=FREE

# (권장) GoPlus 운영 AppKey/AppSecret (Access Token을 자동 발급/갱신)
# - GoPlus는 `/api/v1/token`에서 `app_key` + `sign(sha1(app_key+time+app_secret))` + `time`로 access_token을 발급합니다.
# - token_security 등 대부분의 API는 `Authorization: Bearer <access_token>`을 사용합니다.
GOPLUS_APP_KEY=
GOPLUS_APP_SECRET=

# (선택) Access Token을 직접 넣고 싶으면(자동 갱신 없음)
GOPLUS_ACCESS_TOKEN=

# (레거시) 과거 호환: access_token을 이 변수에 넣어도 동작합니다.
# - 주의: AppKey 자체를 여기에 넣으면 인증/과금이 정상 동작하지 않을 수 있습니다.
GOPLUS_API_KEY=

# (고급) 1회 워커 실행당 CU 예산(기본값은 GOPLUS_PLAN_TIER에 의해 자동 설정)
# - FREE 기본: 100
# - PRO  기본: 3500 (3000~4000 범위로 클램프)
GOPLUS_CU_BUDGET_PER_RUN=

# (고급) 보안 캐시 TTL(기본값은 GOPLUS_PLAN_TIER에 의해 자동 설정)
# - FREE 기본: 24h (일일 스캔 캡이 의미 있게 동작)
# - PRO  기본: 6h
GOPLUS_CACHE_TTL_HOURS=

# (고급) FREE 일일 스캔 캡(기본 150, 최대 150으로 클램프)
GOPLUS_DAILY_MAX_SCANS=

# (품질 신호) GoPlus URL/러그 신호 캐시 TTL
GOPLUS_LINK_TTL_HOURS=24
GOPLUS_RUGPULL_TTL_HOURS=24

############################
# (선택) DB 직접 연결이 필요할 때
############################
# Supabase Dashboard > Project Settings > Database > Connection string
# 예: postgresql://postgres:<password>@db.<ref>.supabase.co:5432/postgres
DATABASE_URL=

############################
# (선택) Storage S3 호환 프로토콜을 쓸 때 (로컬 테스트/ETL 등)
############################
# supabase/config.toml 에서 env(S3_*) 로 참조합니다.
S3_HOST=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=

