###############################################################################
# DexSwipe Backend (Remote Supabase) - Environment Variables
#
# 사용법:
# 1) 이 파일을 .env 로 복사
#    cp .env.example .env
# 2) 값 채우고, 실행 환경에 주입
#    set -a; source .env; set +a
#
# 주의:
# - SUPABASE_SERVICE_ROLE_KEY 는 "서버 전용" 비밀키입니다. 클라이언트/프론트에 절대 노출 금지.
###############################################################################

############################
# Supabase 프로젝트 기본값
############################
# Supabase Dashboard > Project Settings > API > Project URL
SUPABASE_URL=

# Supabase Dashboard > Project Settings > API > Project API keys > anon public
SUPABASE_ANON_KEY=

# Supabase Dashboard > Project Settings > API > Project API keys > service_role secret
# (RLS를 우회할 수 있는 강력한 권한)
SUPABASE_SERVICE_ROLE_KEY=

############################
# (권장) Supabase CLI 원격 db push용 비밀번호
############################
# Supabase 프로젝트 생성 시 설정한 DB 비밀번호(=postgres 사용자 비밀번호)
# - `scripts/push_remote_migrations.sh`에서 사용합니다.
SUPABASE_DB_PASSWORD=

############################
# (권장) 크론/스케줄 호출 보호용 시크릿
############################
# Edge Function(scheduled-fetch / fetch-dexscreener-market / GoPlus workers)이
# 이 값과 동일한 x-cron-secret 헤더만 허용하도록 설정됩니다.
DEXSWIPE_CRON_SECRET=

############################
# GoPlus Security API
############################
# GoPlus 대시보드에서 발급받은 API 키(Edge Function에서만 사용)
GOPLUS_API_KEY=

# (무료티어 최적화) 1회 워커 실행당 CU 예산
# - EVM Token Security: 15 CU/Token
# - Solana Token Security: 30 CU/Token
# 예) 300이면 EVM 20개 또는 Solana 10개 수준으로 제한됩니다.
GOPLUS_CU_BUDGET_PER_RUN=300

# (GoPlus 최적화) 보안 캐시 TTL (fresh면 API 호출 없이 큐만 완료 처리)
GOPLUS_CACHE_TTL_HOURS=6

# (품질/비용 최적화) Market 지표 기반으로만 GoPlus 스캔 큐에 넣기
# - market 워커(`fetch-dexscreener-market`)가 token_security_scan_queue에 enqueue 할 때 적용됩니다.
SECURITY_ENQUEUE_MIN_LIQUIDITY_USD=5000
SECURITY_ENQUEUE_MIN_VOLUME_24H=10000

# (품질 신호) GoPlus URL/러그 신호 캐시 TTL
GOPLUS_LINK_TTL_HOURS=24
GOPLUS_RUGPULL_TTL_HOURS=24

############################
# (선택) DB 직접 연결이 필요할 때
############################
# Supabase Dashboard > Project Settings > Database > Connection string
# 예: postgresql://postgres:<password>@db.<ref>.supabase.co:5432/postgres
DATABASE_URL=

############################
# (선택) Storage S3 호환 프로토콜을 쓸 때 (로컬 테스트/ETL 등)
############################
# supabase/config.toml 에서 env(S3_*) 로 참조합니다.
S3_HOST=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=

